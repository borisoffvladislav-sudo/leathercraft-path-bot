#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ë–î
"""

from database.models import Database

def test_all_modules():
    print("üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ú–û–î–£–õ–¨–ù–û–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´ –ë–î")
    print("=" * 50)
    
    try:
        # 1. –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ë–î
        db = Database()
        print("‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å Database —Å–æ–∑–¥–∞–Ω")
        
        # 2. –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –º–∞–≥–∞–∑–∏–Ω–∞
        categories = db.shop.get_all_categories()
        print(f"‚úÖ –ú–æ–¥—É–ª—å –º–∞–≥–∞–∑–∏–Ω–∞: {len(categories)} –∫–∞—Ç–µ–≥–æ—Ä–∏–π")
        print(f"   –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: {', '.join(categories)}")
        
        # 3. –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞—Ä—Ç–∏–∫—É–ª—ã
        knives = db.shop.get_items_by_category('–ù–æ–∂–∏')
        print(f"‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞—Ä—Ç–∏–∫—É–ª–æ–≤: {len(knives)} –Ω–æ–∂–µ–π —Å SKU")
        for sku, name, price, available, image, durability in knives[:3]:
            print(f"   üì¶ {sku} - {name} ({price} –º–æ–Ω–µ—Ç)")
        
        # 4. –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
        print("‚úÖ –ú–æ–¥—É–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≥–æ—Ç–æ–≤")
        
        # 5. –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        print("‚úÖ –ú–æ–¥—É–ª—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –≥–æ—Ç–æ–≤")
        
        # 6. –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –æ–±—É—á–µ–Ω–∏—è
        print("‚úÖ –ú–æ–¥—É–ª—å –æ–±—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤")
        
        # 7. –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å –∑–∞–∫–∞–∑–æ–≤
        orders = db.orders.get_available_orders(1)
        print(f"‚úÖ –ú–æ–¥—É–ª—å –∑–∞–∫–∞–∑–æ–≤: {len(orders)} –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤")
        
        # 8. –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
        old_style_items = db.get_tools_by_category('–ù–æ–∂–∏')
        print(f"‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: {len(old_style_items)} —Ç–æ–≤–∞—Ä–æ–≤ —Å—Ç–∞—Ä—ã–º –º–µ—Ç–æ–¥–æ–º")
        
        print("\nüéâ –í–°–ï –ú–û–î–£–õ–ò –†–ê–ë–û–¢–ê–Æ–¢ –ö–û–†–†–ï–ö–¢–ù–û!")
        print("üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: {e}")
        import traceback
        traceback.print_exc()
        return False

if __name__ == "__main__":
    test_all_modules()
